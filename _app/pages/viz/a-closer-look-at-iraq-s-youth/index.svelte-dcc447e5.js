var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;import{S as c,i as n,s as i,e as f,t as h,k as d,c as u,a as v,g as m,n as p,d as g,f as b,F as E,G as $,j as w,m as _,b as y,a0 as I,o as O,a1 as D,a3 as L,$ as V,x as j,u as k,v as S,M as x,a4 as P,ac as T,ad as C,ae as A,af as N,y as B,U as M,C as G,a9 as U}from"../../../chunks/vendor-5a128f4a.js";import{b as z}from"../../../chunks/paths-45dac81d.js";import{S as F,L as H}from"../../../chunks/LinechartStream-28d55d2e.js";import{P as W}from"../../../chunks/PageIntro-4b5c5758.js";function q(a,e,t){const s=a.slice();return s[27]=e[t],s}function J(a,e,t){const s=a.slice();return s[30]=e[t],s}function K(a,e,t){const s=a.slice();return s[33]=e[t],s}function Q(a){let e,t,s,l,r=a[33]+"";return{c(){e=f("option"),t=h(r),s=d(),this.h()},l(a){e=u(a,"OPTION",{});var l=v(e);t=m(l,r),s=p(l),l.forEach(g),this.h()},h(){e.__value=l=a[33],e.value=e.__value},m(a,l){b(a,e,l),E(e,t),E(e,s)},p:$,d(a){a&&g(e)}}}function R(a){let e,t,s,l,r=a[30]+"";return{c(){e=f("option"),t=h(r),s=d(),this.h()},l(a){e=u(a,"OPTION",{});var l=v(e);t=m(l,r),s=p(l),l.forEach(g),this.h()},h(){e.__value=l=a[30],e.value=e.__value},m(a,l){b(a,e,l),E(e,t),E(e,s)},p:$,d(a){a&&g(e)}}}function X(a){let e,t,s,l,r=a[27]+"";return{c(){e=f("option"),t=h(r),s=d(),this.h()},l(a){e=u(a,"OPTION",{});var l=v(e);t=m(l,r),s=p(l),l.forEach(g),this.h()},h(){e.__value=l=a[27],e.value=e.__value},m(a,l){b(a,e,l),E(e,t),E(e,s)},p:$,d(a){a&&g(e)}}}function Y(a){let e,t,s,l,r,o,c,n,i,$,T,C,A,N,B,M,G,U,z,Y,Z,aa,ea,ta,sa,la,ra,oa,ca,na,ia,fa,ha,da,ua,va,ma,pa,ga,ba,Ea,$a,wa,_a,ya,Ia,Oa,Da,La,Va,ja,ka,Sa,xa,Pa,Ta,Ca,Aa,Na;t=new W({props:{title:a[0].title}});let Ba=a[10],Ma=[];for(let f=0;f<Ba.length;f+=1)Ma[f]=Q(K(a,Ba,f));let Ga=a[11],Ua=[];for(let f=0;f<Ga.length;f+=1)Ua[f]=R(J(a,Ga,f));let za=a[12],Fa=[];for(let f=0;f<za.length;f+=1)Fa[f]=X(q(a,za,f));return Ia=new F({props:{width:a[5],height:a[6],data:a[9],groupColors:a[13],view:a[7],dataEvents:a[8]}}),Ta=new H({props:{width:a[5],data:a[4]}}),{c(){e=f("div"),w(t.$$.fragment),s=d(),l=f("div"),r=f("div"),o=f("div"),c=f("div"),n=f("div"),i=f("label"),$=h("Language"),T=d(),C=f("select");for(let a=0;a<Ma.length;a+=1)Ma[a].c();A=d(),N=f("div"),B=f("div"),M=f("label"),G=h("Gender"),U=d(),z=f("select");for(let a=0;a<Ua.length;a+=1)Ua[a].c();Y=d(),Z=f("div"),aa=f("div"),ea=f("label"),ta=h("Macro category"),sa=d(),la=f("select");for(let a=0;a<Fa.length;a+=1)Fa[a].c();ra=d(),oa=f("div"),ca=f("label"),na=h("View"),ia=d(),fa=f("div"),ha=f("input"),da=d(),ua=f("label"),va=h("Stack"),ma=d(),pa=f("input"),ga=d(),ba=f("label"),Ea=h("Split"),$a=d(),wa=f("div"),_a=f("div"),ya=f("div"),w(Ia.$$.fragment),La=d(),Va=f("div"),ja=f("div"),ka=f("p"),Sa=f("small"),xa=h("Total tweets"),Pa=d(),w(Ta.$$.fragment),this.h()},l(a){e=u(a,"DIV",{class:!0});var f=v(e);_(t.$$.fragment,f),f.forEach(g),s=p(a),l=u(a,"DIV",{class:!0});var h=v(l);r=u(h,"DIV",{class:!0});var d=v(r);o=u(d,"DIV",{class:!0});var b=v(o);c=u(b,"DIV",{class:!0});var E=v(c);n=u(E,"DIV",{class:!0});var w=v(n);i=u(w,"LABEL",{for:!0,class:!0});var y=v(i);$=m(y,"Language"),y.forEach(g),T=p(w),C=u(w,"SELECT",{class:!0,id:!0,"aria-label":!0});var I=v(C);for(let e=0;e<Ma.length;e+=1)Ma[e].l(I);I.forEach(g),w.forEach(g),E.forEach(g),A=p(b),N=u(b,"DIV",{class:!0});var O=v(N);B=u(O,"DIV",{class:!0});var D=v(B);M=u(D,"LABEL",{for:!0,class:!0});var L=v(M);G=m(L,"Gender"),L.forEach(g),U=p(D),z=u(D,"SELECT",{class:!0,id:!0,"aria-label":!0});var V=v(z);for(let e=0;e<Ua.length;e+=1)Ua[e].l(V);V.forEach(g),D.forEach(g),O.forEach(g),Y=p(b),Z=u(b,"DIV",{class:!0});var j=v(Z);aa=u(j,"DIV",{class:!0});var k=v(aa);ea=u(k,"LABEL",{for:!0,class:!0});var S=v(ea);ta=m(S,"Macro category"),S.forEach(g),sa=p(k),la=u(k,"SELECT",{class:!0,id:!0,"aria-label":!0});var x=v(la);for(let e=0;e<Fa.length;e+=1)Fa[e].l(x);x.forEach(g),k.forEach(g),j.forEach(g),ra=p(b),oa=u(b,"DIV",{class:!0});var P=v(oa);ca=u(P,"LABEL",{for:!0,class:!0});var F=v(ca);na=m(F,"View"),F.forEach(g),ia=p(P),fa=u(P,"DIV",{class:!0,role:!0});var H=v(fa);ha=u(H,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),da=p(H),ua=u(H,"LABEL",{class:!0,for:!0});var W=v(ua);va=m(W,"Stack"),W.forEach(g),ma=p(H),pa=u(H,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),ga=p(H),ba=u(H,"LABEL",{class:!0,for:!0});var q=v(ba);Ea=m(q,"Split"),q.forEach(g),H.forEach(g),P.forEach(g),b.forEach(g),$a=p(d),wa=u(d,"DIV",{class:!0});var J=v(wa);_a=u(J,"DIV",{class:!0});var K=v(_a);ya=u(K,"DIV",{class:!0});var Q=v(ya);_(Ia.$$.fragment,Q),Q.forEach(g),K.forEach(g),J.forEach(g),La=p(d),Va=u(d,"DIV",{class:!0});var R=v(Va);ja=u(R,"DIV",{class:!0});var X=v(ja);ka=u(X,"P",{class:!0});var Oa=v(ka);Sa=u(Oa,"SMALL",{});var Da=v(Sa);xa=m(Da,"Total tweets"),Da.forEach(g),Oa.forEach(g),Pa=p(X),_(Ta.$$.fragment,X),X.forEach(g),R.forEach(g),d.forEach(g),h.forEach(g),this.h()},h(){y(e,"class","container"),y(i,"for","language"),y(i,"class","form-label"),y(C,"class","form-select"),y(C,"id","language"),y(C,"aria-label","Language"),void 0===a[1]&&I((()=>a[18].call(C))),y(n,"class","mb-3"),y(c,"class","col-md-3"),y(M,"for","gender"),y(M,"class","form-label"),y(z,"class","form-select"),y(z,"id","gender"),y(z,"aria-label","gender"),void 0===a[2]&&I((()=>a[19].call(z))),y(B,"class","mb-3"),y(N,"class","col-md-2"),y(ea,"for","macroCategory"),y(ea,"class","form-label"),y(la,"class","form-select"),y(la,"id","macroCategory"),y(la,"aria-label","macroCategory"),void 0===a[3]&&I((()=>a[20].call(la))),y(aa,"class","mb-3"),y(Z,"class","col-md-4"),y(ca,"for","options"),y(ca,"class","form-label w-100"),y(ha,"type","radio"),y(ha,"class","btn-check"),y(ha,"name","options"),y(ha,"id","option1"),y(ha,"autocomplete","off"),ha.__value="stackOffsetNone",ha.value=ha.__value,a[22][0].push(ha),y(ua,"class","btn btn-secondary"),y(ua,"for","option1"),y(pa,"type","radio"),y(pa,"class","btn-check"),y(pa,"name","options"),y(pa,"id","option2"),y(pa,"autocomplete","off"),pa.__value="stackOffsetSplit",pa.value=pa.__value,a[22][0].push(pa),y(ba,"class","btn btn-secondary"),y(ba,"for","option2"),y(fa,"class","btn-group"),y(fa,"role","group"),y(oa,"class","col-md-auto ms-auto"),y(o,"class","row border-bottom py-2"),y(ya,"class","w-100 h-100"),I((()=>a[24].call(ya))),y(_a,"class","col-12"),y(wa,"class","row flex-grow-1 flex-shrink-1 overflow-hidden"),I((()=>a[25].call(wa))),y(ka,"class","text-muted mb-0"),y(ja,"class","col-12"),y(Va,"class","row py-2 border-top"),y(r,"class","container h-100 d-flex flex-column"),y(l,"class","bg-light w-100 containerViz svelte-11zrb3w")},m(f,h){b(f,e,h),O(t,e,null),b(f,s,h),b(f,l,h),E(l,r),E(r,o),E(o,c),E(c,n),E(n,i),E(i,$),E(n,T),E(n,C);for(let a=0;a<Ma.length;a+=1)Ma[a].m(C,null);D(C,a[1]),E(o,A),E(o,N),E(N,B),E(B,M),E(M,G),E(B,U),E(B,z);for(let a=0;a<Ua.length;a+=1)Ua[a].m(z,null);D(z,a[2]),E(o,Y),E(o,Z),E(Z,aa),E(aa,ea),E(ea,ta),E(aa,sa),E(aa,la);for(let a=0;a<Fa.length;a+=1)Fa[a].m(la,null);D(la,a[3]),E(o,ra),E(o,oa),E(oa,ca),E(ca,na),E(oa,ia),E(oa,fa),E(fa,ha),ha.checked=ha.__value===a[7],E(fa,da),E(fa,ua),E(ua,va),E(fa,ma),E(fa,pa),pa.checked=pa.__value===a[7],E(fa,ga),E(fa,ba),E(ba,Ea),E(r,$a),E(r,wa),E(wa,_a),E(_a,ya),O(Ia,ya,null),Oa=L(ya,a[24].bind(ya)),Da=L(wa,a[25].bind(wa)),E(r,La),E(r,Va),E(Va,ja),E(ja,ka),E(ka,Sa),E(Sa,xa),E(ja,Pa),O(Ta,ja,null),Ca=!0,Aa||(Na=[V(C,"change",a[18]),V(z,"change",a[19]),V(la,"change",a[20]),V(ha,"change",a[21]),V(pa,"change",a[23])],Aa=!0)},p(a,e){const s={};if(1&e[0]&&(s.title=a[0].title),t.$set(s),1024&e[0]){let t;for(Ba=a[10],t=0;t<Ba.length;t+=1){const s=K(a,Ba,t);Ma[t]?Ma[t].p(s,e):(Ma[t]=Q(s),Ma[t].c(),Ma[t].m(C,null))}for(;t<Ma.length;t+=1)Ma[t].d(1);Ma.length=Ba.length}if(1026&e[0]&&D(C,a[1]),2048&e[0]){let t;for(Ga=a[11],t=0;t<Ga.length;t+=1){const s=J(a,Ga,t);Ua[t]?Ua[t].p(s,e):(Ua[t]=R(s),Ua[t].c(),Ua[t].m(z,null))}for(;t<Ua.length;t+=1)Ua[t].d(1);Ua.length=Ga.length}if(2052&e[0]&&D(z,a[2]),4096&e[0]){let t;for(za=a[12],t=0;t<za.length;t+=1){const s=q(a,za,t);Fa[t]?Fa[t].p(s,e):(Fa[t]=X(s),Fa[t].c(),Fa[t].m(la,null))}for(;t<Fa.length;t+=1)Fa[t].d(1);Fa.length=za.length}4104&e[0]&&D(la,a[3]),128&e[0]&&(ha.checked=ha.__value===a[7]),128&e[0]&&(pa.checked=pa.__value===a[7]);const l={};32&e[0]&&(l.width=a[5]),64&e[0]&&(l.height=a[6]),512&e[0]&&(l.data=a[9]),128&e[0]&&(l.view=a[7]),256&e[0]&&(l.dataEvents=a[8]),Ia.$set(l);const r={};32&e[0]&&(r.width=a[5]),16&e[0]&&(r.data=a[4]),Ta.$set(r)},i(a){Ca||(j(t.$$.fragment,a),j(Ia.$$.fragment,a),j(Ta.$$.fragment,a),Ca=!0)},o(a){k(t.$$.fragment,a),k(Ia.$$.fragment,a),k(Ta.$$.fragment,a),Ca=!1},d(r){r&&g(e),S(t),r&&g(s),r&&g(l),x(Ma,r),x(Ua,r),x(Fa,r),a[22][0].splice(a[22][0].indexOf(ha),1),a[22][0].splice(a[22][0].indexOf(pa),1),S(Ia),Oa(),Da(),S(Ta),Aa=!1,P(Na)}}}async function Z({page:a,fetch:e}){const t=z+a.path,s=await e(`${t}/data.json`),l=await e(`${t}.json`),r=await l.json(),o=await s.json();return{props:{info:r.data,tweets:o.tweets,events:o.events,emo:o.emo}}}function aa(a,c,n){let i,f,h,d,u,v,{info:m}=c,{emo:p}=c,{events:g}=c,{tweets:b}=c,E=[...new Set(Object.keys(p).map((a=>a.split("_")[0])).sort())],$=E[0],w=[...new Set(Object.keys(p).map((a=>a.split("_")[1])).sort())],_=w[0],y=["all",...new Set(Object.values(p).flat().map((a=>a.macro_dimension)))],I=y[0];const O=T(Object.values(p).flat(),(a=>a.macro_dimension),(a=>a.dimension)).map(((a,e)=>{const t=C[e],s=1/a[1].length;return a[1].map(((e,l)=>({category:e[0],macro_category:a[0],color:A(t).brighter(l*s)})))})).flat();let D="stackOffsetNone";return a.$$set=a=>{"info"in a&&n(0,m=a.info),"emo"in a&&n(14,p=a.emo),"events"in a&&n(15,g=a.events),"tweets"in a&&n(16,b=a.tweets)},a.$$.update=()=>{16398&a.$$.dirty[0]&&n(9,i=p[$+"_"+_].map((a=>{return c=((a,e)=>{for(var t in e||(e={}))l.call(e,t)&&o(a,t,e[t]);if(s)for(var t of s(e))r.call(e,t)&&o(a,t,e[t]);return a})({},a),n={date:new Date(a.date)},e(c,t(n));var c,n})).filter((a=>"all"===I||I===a.macro_dimension)).sort(((a,e)=>N(a.date,e.date)))),65536&a.$$.dirty[0]&&n(4,f=b.map((a=>({y:a.tweets_count,x:new Date(a.date)})))),32768&a.$$.dirty[0]&&n(8,h=g.map((a=>({date:new Date(a.date),event:a.event})))),16&a.$$.dirty[0]&&B("brushExtentDefault",M(f,(a=>a.x))),16&a.$$.dirty[0]&&n(17,d=G(M(f,(a=>a.x)))),131072&a.$$.dirty[0]&&B("brushExtent",d)},[m,$,_,I,f,u,v,D,h,i,E,w,y,O,p,g,b,d,function(){$=U(this),n(1,$),n(10,E)},function(){_=U(this),n(2,_),n(11,w)},function(){I=U(this),n(3,I),n(12,y)},function(){D=this.__value,n(7,D)},[[]],function(){D=this.__value,n(7,D)},function(){u=this.clientWidth,n(5,u)},function(){v=this.clientHeight,n(6,v)}]}class ea extends c{constructor(a){super(),n(this,a,aa,Y,i,{info:0,emo:14,events:15,tweets:16},null,[-1,-1])}}export{ea as default,Z as load};

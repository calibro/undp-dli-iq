var ct=Object.defineProperty,ut=Object.defineProperties;var dt=Object.getOwnPropertyDescriptors;var Xe=Object.getOwnPropertySymbols;var ft=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var Ye=(e,t,l)=>t in e?ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Ze=(e,t)=>{for(var l in t||(t={}))ft.call(t,l)&&Ye(e,l,t[l]);if(Xe)for(var l of Xe(t))ht.call(t,l)&&Ye(e,l,t[l]);return e},$e=(e,t)=>ut(e,dt(t));import{S as _t,i as vt,s as mt,e as u,t as K,k as L,c as d,a as f,g as Q,n as y,d as n,f as de,F as s,G as xe,j as Le,m as ye,b as r,a1 as pe,o as Se,a2 as ge,a4 as et,a0 as be,x as je,u as Ce,v as Oe,M as tt,a5 as pt,ad as gt,ae as bt,af as Et,ag as wt,y as at,V as lt,C as kt,aa as st}from"../../../chunks/vendor-8b487b9e.js";import{b as It}from"../../../chunks/paths-28a87002.js";import{S as Dt}from"../../../chunks/Streamgraph-3aafa835.js";import{L as Vt}from"../../../chunks/LinechartStream-5e093319.js";import{P as Lt}from"../../../chunks/PageIntro-ee1ebb67.js";function rt(e,t,l){const h=e.slice();return h[24]=t[l],h}function ot(e,t,l){const h=e.slice();return h[27]=t[l],h}function nt(e){let t,l=e[27]+"",h,v,g;return{c(){t=u("option"),h=K(l),v=L(),this.h()},l(i){t=d(i,"OPTION",{});var m=f(t);h=Q(m,l),v=y(m),m.forEach(n),this.h()},h(){t.__value=g=e[27],t.value=t.__value},m(i,m){de(i,t,m),s(t,h),s(t,v)},p:xe,d(i){i&&n(t)}}}function it(e){let t,l=e[24]+"",h,v,g;return{c(){t=u("option"),h=K(l),v=L(),this.h()},l(i){t=d(i,"OPTION",{});var m=f(t);h=Q(m,l),v=y(m),m.forEach(n),this.h()},h(){t.__value=g=e[24],t.value=t.__value},m(i,m){de(i,t,m),s(t,h),s(t,v)},p:xe,d(i){i&&n(t)}}}function yt(e){let t,l,h,v,g,i,m,D,T,R,X,w,Y,P,O,S,fe,le,b,se,A,B,re,oe,V,p,o,z,ne,ie,E,ce,M,Ee,we,U,$,q,F,Te,Pe,ke,x,H,ee,ue,Ie,De,W,he,Ve,ze;l=new Lt({props:{title:e[0].title}});let te=e[9],k=[];for(let a=0;a<te.length;a+=1)k[a]=nt(ot(e,te,a));let ae=e[10],I=[];for(let a=0;a<ae.length;a+=1)I[a]=it(rt(e,ae,a));return F=new Dt({props:{width:e[4],height:e[5],data:e[8],groupColors:e[11],view:e[6],dataEvents:e[7]}}),W=new Vt({props:{width:e[4],data:e[3]}}),{c(){t=u("div"),Le(l.$$.fragment),h=L(),v=u("div"),g=u("div"),i=u("div"),m=u("div"),D=u("div"),T=u("label"),R=K("Gender"),X=L(),w=u("select");for(let a=0;a<k.length;a+=1)k[a].c();Y=L(),P=u("div"),O=u("div"),S=u("label"),fe=K("Macro category"),le=L(),b=u("select");for(let a=0;a<I.length;a+=1)I[a].c();se=L(),A=u("div"),B=u("label"),re=K("View"),oe=L(),V=u("div"),p=u("input"),o=L(),z=u("label"),ne=K("Stack"),ie=L(),E=u("input"),ce=L(),M=u("label"),Ee=K("Split"),we=L(),U=u("div"),$=u("div"),q=u("div"),Le(F.$$.fragment),ke=L(),x=u("div"),H=u("div"),ee=u("p"),ue=u("small"),Ie=K("Total tweets"),De=L(),Le(W.$$.fragment),this.h()},l(a){t=d(a,"DIV",{class:!0});var _=f(t);ye(l.$$.fragment,_),_.forEach(n),h=y(a),v=d(a,"DIV",{class:!0});var j=f(v);g=d(j,"DIV",{class:!0});var C=f(g);i=d(C,"DIV",{class:!0});var G=f(i);m=d(G,"DIV",{class:!0});var c=f(m);D=d(c,"DIV",{class:!0});var N=f(D);T=d(N,"LABEL",{for:!0,class:!0});var Ae=f(T);R=Q(Ae,"Gender"),Ae.forEach(n),X=y(N),w=d(N,"SELECT",{class:!0,id:!0,"aria-label":!0});var Ge=f(w);for(let Z=0;Z<k.length;Z+=1)k[Z].l(Ge);Ge.forEach(n),N.forEach(n),c.forEach(n),Y=y(G),P=d(G,"DIV",{class:!0});var Ne=f(P);O=d(Ne,"DIV",{class:!0});var _e=f(O);S=d(_e,"LABEL",{for:!0,class:!0});var Be=f(S);fe=Q(Be,"Macro category"),Be.forEach(n),le=y(_e),b=d(_e,"SELECT",{class:!0,id:!0,"aria-label":!0});var Me=f(b);for(let Z=0;Z<I.length;Z+=1)I[Z].l(Me);Me.forEach(n),_e.forEach(n),Ne.forEach(n),se=y(G),A=d(G,"DIV",{class:!0});var ve=f(A);B=d(ve,"LABEL",{for:!0,class:!0});var Ue=f(B);re=Q(Ue,"View"),Ue.forEach(n),oe=y(ve),V=d(ve,"DIV",{class:!0,role:!0});var J=f(V);p=d(J,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),o=y(J),z=d(J,"LABEL",{class:!0,for:!0});var qe=f(z);ne=Q(qe,"Stack"),qe.forEach(n),ie=y(J),E=d(J,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),ce=y(J),M=d(J,"LABEL",{class:!0,for:!0});var Fe=f(M);Ee=Q(Fe,"Split"),Fe.forEach(n),J.forEach(n),ve.forEach(n),G.forEach(n),we=y(C),U=d(C,"DIV",{class:!0});var He=f(U);$=d(He,"DIV",{class:!0});var We=f($);q=d(We,"DIV",{class:!0});var Je=f(q);ye(F.$$.fragment,Je),Je.forEach(n),We.forEach(n),He.forEach(n),ke=y(C),x=d(C,"DIV",{class:!0});var Ke=f(x);H=d(Ke,"DIV",{class:!0});var me=f(H);ee=d(me,"P",{class:!0});var Qe=f(ee);ue=d(Qe,"SMALL",{});var Re=f(ue);Ie=Q(Re,"Total tweets"),Re.forEach(n),Qe.forEach(n),De=y(me),ye(W.$$.fragment,me),me.forEach(n),Ke.forEach(n),C.forEach(n),j.forEach(n),this.h()},h(){r(t,"class","container"),r(T,"for","gender"),r(T,"class","form-label"),r(w,"class","form-select"),r(w,"id","gender"),r(w,"aria-label","gender"),e[1]===void 0&&pe(()=>e[16].call(w)),r(D,"class","mb-3"),r(m,"class","col-md-3"),r(S,"for","macroCategory"),r(S,"class","form-label"),r(b,"class","form-select"),r(b,"id","macroCategory"),r(b,"aria-label","macroCategory"),e[2]===void 0&&pe(()=>e[17].call(b)),r(O,"class","mb-3"),r(P,"class","col-md-4"),r(B,"for","options"),r(B,"class","form-label w-100"),r(p,"type","radio"),r(p,"class","btn-check"),r(p,"name","options"),r(p,"id","option1"),r(p,"autocomplete","off"),p.__value="stackOffsetNone",p.value=p.__value,e[19][0].push(p),r(z,"class","btn btn-secondary"),r(z,"for","option1"),r(E,"type","radio"),r(E,"class","btn-check"),r(E,"name","options"),r(E,"id","option2"),r(E,"autocomplete","off"),E.__value="stackOffsetSplit",E.value=E.__value,e[19][0].push(E),r(M,"class","btn btn-secondary"),r(M,"for","option2"),r(V,"class","btn-group"),r(V,"role","group"),r(A,"class","col-md-auto ms-auto"),r(i,"class","row border-bottom py-2"),r(q,"class","w-100 h-100"),pe(()=>e[21].call(q)),r($,"class","col-12"),r(U,"class","row flex-grow-1 flex-shrink-1 overflow-hidden"),pe(()=>e[22].call(U)),r(ee,"class","text-muted mb-0"),r(H,"class","col-12"),r(x,"class","row py-2 border-top"),r(g,"class","container h-100 d-flex flex-column"),r(v,"class","bg-light w-100 containerViz svelte-11zrb3w")},m(a,_){de(a,t,_),Se(l,t,null),de(a,h,_),de(a,v,_),s(v,g),s(g,i),s(i,m),s(m,D),s(D,T),s(T,R),s(D,X),s(D,w);for(let j=0;j<k.length;j+=1)k[j].m(w,null);ge(w,e[1]),s(i,Y),s(i,P),s(P,O),s(O,S),s(S,fe),s(O,le),s(O,b);for(let j=0;j<I.length;j+=1)I[j].m(b,null);ge(b,e[2]),s(i,se),s(i,A),s(A,B),s(B,re),s(A,oe),s(A,V),s(V,p),p.checked=p.__value===e[6],s(V,o),s(V,z),s(z,ne),s(V,ie),s(V,E),E.checked=E.__value===e[6],s(V,ce),s(V,M),s(M,Ee),s(g,we),s(g,U),s(U,$),s($,q),Se(F,q,null),Te=et(q,e[21].bind(q)),Pe=et(U,e[22].bind(U)),s(g,ke),s(g,x),s(x,H),s(H,ee),s(ee,ue),s(ue,Ie),s(H,De),Se(W,H,null),he=!0,Ve||(ze=[be(w,"change",e[16]),be(b,"change",e[17]),be(p,"change",e[18]),be(E,"change",e[20])],Ve=!0)},p(a,[_]){const j={};if(_&1&&(j.title=a[0].title),l.$set(j),_&512){te=a[9];let c;for(c=0;c<te.length;c+=1){const N=ot(a,te,c);k[c]?k[c].p(N,_):(k[c]=nt(N),k[c].c(),k[c].m(w,null))}for(;c<k.length;c+=1)k[c].d(1);k.length=te.length}if(_&514&&ge(w,a[1]),_&1024){ae=a[10];let c;for(c=0;c<ae.length;c+=1){const N=rt(a,ae,c);I[c]?I[c].p(N,_):(I[c]=it(N),I[c].c(),I[c].m(b,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=ae.length}_&1028&&ge(b,a[2]),_&64&&(p.checked=p.__value===a[6]),_&64&&(E.checked=E.__value===a[6]);const C={};_&16&&(C.width=a[4]),_&32&&(C.height=a[5]),_&256&&(C.data=a[8]),_&64&&(C.view=a[6]),_&128&&(C.dataEvents=a[7]),F.$set(C);const G={};_&16&&(G.width=a[4]),_&8&&(G.data=a[3]),W.$set(G)},i(a){he||(je(l.$$.fragment,a),je(F.$$.fragment,a),je(W.$$.fragment,a),he=!0)},o(a){Ce(l.$$.fragment,a),Ce(F.$$.fragment,a),Ce(W.$$.fragment,a),he=!1},d(a){a&&n(t),Oe(l),a&&n(h),a&&n(v),tt(k,a),tt(I,a),e[19][0].splice(e[19][0].indexOf(p),1),e[19][0].splice(e[19][0].indexOf(E),1),Oe(F),Te(),Pe(),Oe(W),Ve=!1,pt(ze)}}}async function At({page:e,fetch:t}){const l=It+e.path,h=await t(`${l}/data.json`),g=await(await t(`${l}.json`)).json(),i=await h.json();return{props:{info:g.data,tweets:i.tweets,events:i.events,emo:i.emo}}}function St(e,t,l){let h,v,g,i,{info:m}=t,{emo:D}=t,{events:T}=t,{tweets:R}=t,X,w,Y=Object.keys(D).sort(),P=Y[0],O=["all",...new Set(Object.values(D).flat().map(o=>o.macro_dimension))],S=O[0];const le=gt(Object.values(D).flat(),o=>o.macro_dimension,o=>o.dimension).map((o,z)=>{const ne=bt[z],ie=1/o[1].length;return o[1].map((ce,M)=>({category:ce[0],macro_category:o[0],color:Et(ne).brighter(M*ie)}))}).flat();let b="stackOffsetNone";const se=[[]];function A(){P=st(this),l(1,P),l(9,Y)}function B(){S=st(this),l(2,S),l(10,O)}function re(){b=this.__value,l(6,b)}function oe(){b=this.__value,l(6,b)}function V(){X=this.clientWidth,l(4,X)}function p(){w=this.clientHeight,l(5,w)}return e.$$set=o=>{"info"in o&&l(0,m=o.info),"emo"in o&&l(12,D=o.emo),"events"in o&&l(13,T=o.events),"tweets"in o&&l(14,R=o.tweets)},e.$$.update=()=>{e.$$.dirty&4102&&l(8,h=D[P].map(o=>$e(Ze({},o),{date:new Date(o.date)})).filter(o=>S!=="all"?S===o.macro_dimension:!0).sort((o,z)=>wt(o.date,z.date))),e.$$.dirty&16384&&l(3,v=R.map(o=>({y:o.tweets_count,x:new Date(o.date)}))),e.$$.dirty&8192&&l(7,g=T.map(o=>({date:new Date(o.date),event:o.event}))),e.$$.dirty&8&&at("brushExtentDefault",lt(v,o=>o.x)),e.$$.dirty&8&&l(15,i=kt(lt(v,o=>o.x))),e.$$.dirty&32768&&at("brushExtent",i)},[m,P,S,v,X,w,b,g,h,Y,O,le,D,T,R,i,A,B,re,se,oe,V,p]}class Gt extends _t{constructor(t){super();vt(this,t,St,yt,mt,{info:0,emo:12,events:13,tweets:14})}}export{Gt as default,At as load};

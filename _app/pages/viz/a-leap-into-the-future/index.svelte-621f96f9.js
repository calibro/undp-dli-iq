var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;import{S as c,i as n,s as i,e as f,t as h,k as d,c as v,a as u,g as m,n as p,d as g,f as b,F as $,G as w,j as E,m as y,b as _,a0 as I,o as O,a1 as D,a3 as j,$ as k,x as V,u as L,v as x,M as S,a4 as P,ac as T,ad as C,ae as A,af as N,y as B,U as M,C as G,a9 as U}from"../../../chunks/vendor-7fcd3968.js";import{b as z}from"../../../chunks/paths-45dac81d.js";import{S as F}from"../../../chunks/Streamgraph-828c0942.js";import{L as H}from"../../../chunks/LinechartStream-19205d88.js";import{P as W}from"../../../chunks/PageIntro-30398bf4.js";function q(a,e,t){const s=a.slice();return s[24]=e[t],s}function J(a,e,t){const s=a.slice();return s[27]=e[t],s}function K(a){let e,t,s,r,o=a[27]+"";return{c(){e=f("option"),t=h(o),s=d(),this.h()},l(a){e=v(a,"OPTION",{});var r=u(e);t=m(r,o),s=p(r),r.forEach(g),this.h()},h(){e.__value=r=a[27],e.value=e.__value},m(a,r){b(a,e,r),$(e,t),$(e,s)},p:w,d(a){a&&g(e)}}}function Q(a){let e,t,s,r,o=a[24]+"";return{c(){e=f("option"),t=h(o),s=d(),this.h()},l(a){e=v(a,"OPTION",{});var r=u(e);t=m(r,o),s=p(r),r.forEach(g),this.h()},h(){e.__value=r=a[24],e.value=e.__value},m(a,r){b(a,e,r),$(e,t),$(e,s)},p:w,d(a){a&&g(e)}}}function R(a){let e,t,s,r,o,l,c,n,i,w,T,C,A,N,B,M,G,U,z,R,X,Y,Z,aa,ea,ta,sa,ra,oa,la,ca,na,ia,fa,ha,da,va,ua,ma,pa,ga,ba,$a,wa,Ea,ya,_a,Ia,Oa,Da,ja,ka;t=new W({props:{title:a[0].title,description:a[0].desc}});let Va=a[9],La=[];for(let f=0;f<Va.length;f+=1)La[f]=K(J(a,Va,f));let xa=a[10],Sa=[];for(let f=0;f<xa.length;f+=1)Sa[f]=Q(q(a,xa,f));return ma=new F({props:{width:a[4],height:a[5],data:a[8],groupColors:a[11],view:a[6],dataEvents:a[7]}}),Oa=new H({props:{width:a[4],data:a[3]}}),{c(){e=f("div"),E(t.$$.fragment),s=d(),r=f("div"),o=f("div"),l=f("div"),c=f("div"),n=f("div"),i=f("label"),w=h("Gender"),T=d(),C=f("select");for(let a=0;a<La.length;a+=1)La[a].c();A=d(),N=f("div"),B=f("div"),M=f("label"),G=h("Macro category"),U=d(),z=f("select");for(let a=0;a<Sa.length;a+=1)Sa[a].c();R=d(),X=f("div"),Y=f("label"),Z=h("View"),aa=d(),ea=f("div"),ta=f("input"),sa=d(),ra=f("label"),oa=h("Stack"),la=d(),ca=f("input"),na=d(),ia=f("label"),fa=h("Split"),ha=d(),da=f("div"),va=f("div"),ua=f("div"),E(ma.$$.fragment),ba=d(),$a=f("div"),wa=f("div"),Ea=f("p"),ya=f("small"),_a=h("Total tweets"),Ia=d(),E(Oa.$$.fragment),this.h()},l(a){e=v(a,"DIV",{class:!0});var f=u(e);y(t.$$.fragment,f),f.forEach(g),s=p(a),r=v(a,"DIV",{class:!0});var h=u(r);o=v(h,"DIV",{class:!0});var d=u(o);l=v(d,"DIV",{class:!0});var b=u(l);c=v(b,"DIV",{class:!0});var $=u(c);n=v($,"DIV",{class:!0});var E=u(n);i=v(E,"LABEL",{for:!0,class:!0});var _=u(i);w=m(_,"Gender"),_.forEach(g),T=p(E),C=v(E,"SELECT",{class:!0,id:!0,"aria-label":!0});var I=u(C);for(let e=0;e<La.length;e+=1)La[e].l(I);I.forEach(g),E.forEach(g),$.forEach(g),A=p(b),N=v(b,"DIV",{class:!0});var O=u(N);B=v(O,"DIV",{class:!0});var D=u(B);M=v(D,"LABEL",{for:!0,class:!0});var j=u(M);G=m(j,"Macro category"),j.forEach(g),U=p(D),z=v(D,"SELECT",{class:!0,id:!0,"aria-label":!0});var k=u(z);for(let e=0;e<Sa.length;e+=1)Sa[e].l(k);k.forEach(g),D.forEach(g),O.forEach(g),R=p(b),X=v(b,"DIV",{class:!0});var V=u(X);Y=v(V,"LABEL",{for:!0,class:!0});var L=u(Y);Z=m(L,"View"),L.forEach(g),aa=p(V),ea=v(V,"DIV",{class:!0,role:!0});var x=u(ea);ta=v(x,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),sa=p(x),ra=v(x,"LABEL",{class:!0,for:!0});var S=u(ra);oa=m(S,"Stack"),S.forEach(g),la=p(x),ca=v(x,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),na=p(x),ia=v(x,"LABEL",{class:!0,for:!0});var P=u(ia);fa=m(P,"Split"),P.forEach(g),x.forEach(g),V.forEach(g),b.forEach(g),ha=p(d),da=v(d,"DIV",{class:!0});var F=u(da);va=v(F,"DIV",{class:!0});var H=u(va);ua=v(H,"DIV",{class:!0});var W=u(ua);y(ma.$$.fragment,W),W.forEach(g),H.forEach(g),F.forEach(g),ba=p(d),$a=v(d,"DIV",{class:!0});var q=u($a);wa=v(q,"DIV",{class:!0});var J=u(wa);Ea=v(J,"P",{class:!0});var K=u(Ea);ya=v(K,"SMALL",{});var Q=u(ya);_a=m(Q,"Total tweets"),Q.forEach(g),K.forEach(g),Ia=p(J),y(Oa.$$.fragment,J),J.forEach(g),q.forEach(g),d.forEach(g),h.forEach(g),this.h()},h(){_(e,"class","container"),_(i,"for","gender"),_(i,"class","form-label"),_(C,"class","form-select"),_(C,"id","gender"),_(C,"aria-label","gender"),void 0===a[1]&&I((()=>a[16].call(C))),_(n,"class","mb-3"),_(c,"class","col-md-3"),_(M,"for","macroCategory"),_(M,"class","form-label"),_(z,"class","form-select"),_(z,"id","macroCategory"),_(z,"aria-label","macroCategory"),void 0===a[2]&&I((()=>a[17].call(z))),_(B,"class","mb-3"),_(N,"class","col-md-4"),_(Y,"for","options"),_(Y,"class","form-label w-100"),_(ta,"type","radio"),_(ta,"class","btn-check"),_(ta,"name","options"),_(ta,"id","option1"),_(ta,"autocomplete","off"),ta.__value="stackOffsetNone",ta.value=ta.__value,a[19][0].push(ta),_(ra,"class","btn btn-secondary"),_(ra,"for","option1"),_(ca,"type","radio"),_(ca,"class","btn-check"),_(ca,"name","options"),_(ca,"id","option2"),_(ca,"autocomplete","off"),ca.__value="stackOffsetSplit",ca.value=ca.__value,a[19][0].push(ca),_(ia,"class","btn btn-secondary"),_(ia,"for","option2"),_(ea,"class","btn-group"),_(ea,"role","group"),_(X,"class","col-md-auto ms-auto"),_(l,"class","row border-bottom py-2"),_(ua,"class","w-100 h-100"),I((()=>a[21].call(ua))),_(va,"class","col-12"),_(da,"class","row flex-grow-1 flex-shrink-1 overflow-hidden"),I((()=>a[22].call(da))),_(Ea,"class","text-muted mb-0"),_(wa,"class","col-12"),_($a,"class","row py-2 border-top"),_(o,"class","container h-100 d-flex flex-column"),_(r,"class","bg-light w-100 containerViz svelte-11zrb3w")},m(f,h){b(f,e,h),O(t,e,null),b(f,s,h),b(f,r,h),$(r,o),$(o,l),$(l,c),$(c,n),$(n,i),$(i,w),$(n,T),$(n,C);for(let a=0;a<La.length;a+=1)La[a].m(C,null);D(C,a[1]),$(l,A),$(l,N),$(N,B),$(B,M),$(M,G),$(B,U),$(B,z);for(let a=0;a<Sa.length;a+=1)Sa[a].m(z,null);D(z,a[2]),$(l,R),$(l,X),$(X,Y),$(Y,Z),$(X,aa),$(X,ea),$(ea,ta),ta.checked=ta.__value===a[6],$(ea,sa),$(ea,ra),$(ra,oa),$(ea,la),$(ea,ca),ca.checked=ca.__value===a[6],$(ea,na),$(ea,ia),$(ia,fa),$(o,ha),$(o,da),$(da,va),$(va,ua),O(ma,ua,null),pa=j(ua,a[21].bind(ua)),ga=j(da,a[22].bind(da)),$(o,ba),$(o,$a),$($a,wa),$(wa,Ea),$(Ea,ya),$(ya,_a),$(wa,Ia),O(Oa,wa,null),Da=!0,ja||(ka=[k(C,"change",a[16]),k(z,"change",a[17]),k(ta,"change",a[18]),k(ca,"change",a[20])],ja=!0)},p(a,[e]){const s={};if(1&e&&(s.title=a[0].title),1&e&&(s.description=a[0].desc),t.$set(s),512&e){let t;for(Va=a[9],t=0;t<Va.length;t+=1){const s=J(a,Va,t);La[t]?La[t].p(s,e):(La[t]=K(s),La[t].c(),La[t].m(C,null))}for(;t<La.length;t+=1)La[t].d(1);La.length=Va.length}if(514&e&&D(C,a[1]),1024&e){let t;for(xa=a[10],t=0;t<xa.length;t+=1){const s=q(a,xa,t);Sa[t]?Sa[t].p(s,e):(Sa[t]=Q(s),Sa[t].c(),Sa[t].m(z,null))}for(;t<Sa.length;t+=1)Sa[t].d(1);Sa.length=xa.length}1028&e&&D(z,a[2]),64&e&&(ta.checked=ta.__value===a[6]),64&e&&(ca.checked=ca.__value===a[6]);const r={};16&e&&(r.width=a[4]),32&e&&(r.height=a[5]),256&e&&(r.data=a[8]),64&e&&(r.view=a[6]),128&e&&(r.dataEvents=a[7]),ma.$set(r);const o={};16&e&&(o.width=a[4]),8&e&&(o.data=a[3]),Oa.$set(o)},i(a){Da||(V(t.$$.fragment,a),V(ma.$$.fragment,a),V(Oa.$$.fragment,a),Da=!0)},o(a){L(t.$$.fragment,a),L(ma.$$.fragment,a),L(Oa.$$.fragment,a),Da=!1},d(o){o&&g(e),x(t),o&&g(s),o&&g(r),S(La,o),S(Sa,o),a[19][0].splice(a[19][0].indexOf(ta),1),a[19][0].splice(a[19][0].indexOf(ca),1),x(ma),pa(),ga(),x(Oa),ja=!1,P(ka)}}}async function X({page:a,fetch:e}){const t=z+a.path,s=await e(`${t}/data.json`),r=await e(`${t}.json`),o=await r.json(),l=await s.json();return{props:{info:o.data,tweets:l.tweets,events:l.events,emo:l.emo}}}function Y(a,c,n){let i,f,h,d,v,u,{info:m}=c,{emo:p}=c,{events:g}=c,{tweets:b}=c,$=Object.keys(p).sort(),w=$[0],E=["all",...new Set(Object.values(p).flat().map((a=>a.macro_dimension)))],y=E[0];const _=T(Object.values(p).flat(),(a=>a.macro_dimension),(a=>a.dimension)).map(((a,e)=>{const t=C[e],s=1/a[1].length;return a[1].map(((e,r)=>({category:e[0],macro_category:a[0],color:A(t).brighter(r*s)})))})).flat();let I="stackOffsetNone";return a.$$set=a=>{"info"in a&&n(0,m=a.info),"emo"in a&&n(12,p=a.emo),"events"in a&&n(13,g=a.events),"tweets"in a&&n(14,b=a.tweets)},a.$$.update=()=>{4102&a.$$.dirty&&n(8,i=p[w].map((a=>{return c=((a,e)=>{for(var t in e||(e={}))r.call(e,t)&&l(a,t,e[t]);if(s)for(var t of s(e))o.call(e,t)&&l(a,t,e[t]);return a})({},a),n={date:new Date(a.date)},e(c,t(n));var c,n})).filter((a=>"all"===y||y===a.macro_dimension)).sort(((a,e)=>N(a.date,e.date)))),16384&a.$$.dirty&&n(3,f=b.map((a=>({y:a.tweets_count,x:new Date(a.date)})))),8192&a.$$.dirty&&n(7,h=g.map((a=>({date:new Date(a.date),event:a.event})))),8&a.$$.dirty&&B("brushExtentDefault",M(f,(a=>a.x))),8&a.$$.dirty&&n(15,d=G(M(f,(a=>a.x)))),32768&a.$$.dirty&&B("brushExtent",d)},[m,w,y,f,v,u,I,h,i,$,E,_,p,g,b,d,function(){w=U(this),n(1,w),n(9,$)},function(){y=U(this),n(2,y),n(10,E)},function(){I=this.__value,n(6,I)},[[]],function(){I=this.__value,n(6,I)},function(){v=this.clientWidth,n(4,v)},function(){u=this.clientHeight,n(5,u)}]}class Z extends c{constructor(a){super(),n(this,a,Y,R,i,{info:0,emo:12,events:13,tweets:14})}}export{Z as default,X as load};

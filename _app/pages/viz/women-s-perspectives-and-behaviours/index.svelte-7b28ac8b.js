var ct=Object.defineProperty,ut=Object.defineProperties;var ft=Object.getOwnPropertyDescriptors;var Xe=Object.getOwnPropertySymbols;var dt=Object.prototype.hasOwnProperty,ht=Object.prototype.propertyIsEnumerable;var Ye=(e,t,l)=>t in e?ct(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,Ze=(e,t)=>{for(var l in t||(t={}))dt.call(t,l)&&Ye(e,l,t[l]);if(Xe)for(var l of Xe(t))ht.call(t,l)&&Ye(e,l,t[l]);return e},$e=(e,t)=>ut(e,ft(t));import{S as _t,i as mt,s as vt,e as u,t as K,k as V,c as f,a as d,g as Q,n as S,d as r,f as fe,F as s,G as xe,j as Ve,m as Se,b as o,a1 as ge,o as ye,a2 as pe,a4 as et,a0 as be,x as je,u as Ce,v as Oe,M as tt,a5 as gt,ad as pt,ae as bt,af as wt,ag as Et,y as at,V as lt,C as kt,aa as st}from"../../../chunks/vendor-8b487b9e.js";import{b as Lt}from"../../../chunks/paths-28a87002.js";import{S as It}from"../../../chunks/Streamgraph-3aafa835.js";import{L as Dt}from"../../../chunks/LinechartStream-5e093319.js";import{P as Vt}from"../../../chunks/PageIntro-ee1ebb67.js";function ot(e,t,l){const h=e.slice();return h[25]=t[l],h}function nt(e,t,l){const h=e.slice();return h[28]=t[l],h}function rt(e){let t,l=e[28]+"",h,m,p;return{c(){t=u("option"),h=K(l),m=V(),this.h()},l(i){t=f(i,"OPTION",{});var v=d(t);h=Q(v,l),m=S(v),v.forEach(r),this.h()},h(){t.__value=p=e[28],t.value=t.__value},m(i,v){fe(i,t,v),s(t,h),s(t,m)},p:xe,d(i){i&&r(t)}}}function it(e){let t,l=e[25]+"",h,m,p;return{c(){t=u("option"),h=K(l),m=V(),this.h()},l(i){t=f(i,"OPTION",{});var v=d(t);h=Q(v,l),m=S(v),v.forEach(r),this.h()},h(){t.__value=p=e[25],t.value=t.__value},m(i,v){fe(i,t,v),s(t,h),s(t,m)},p:xe,d(i){i&&r(t)}}}function St(e){let t,l,h,m,p,i,v,k,P,R,X,E,Y,O,T,y,de,le,b,se,A,M,oe,ne,D,g,n,z,re,ie,w,ce,G,we,Ee,U,$,W,q,Te,Pe,ke,x,F,ee,ue,Le,Ie,H,he,De,ze;l=new Vt({props:{title:e[0].title}});let te=e[9],L=[];for(let a=0;a<te.length;a+=1)L[a]=rt(nt(e,te,a));let ae=e[10],I=[];for(let a=0;a<ae.length;a+=1)I[a]=it(ot(e,ae,a));return q=new It({props:{width:e[4],height:e[5],data:e[8],groupColors:e[11],view:e[6],dataEvents:e[7]}}),H=new Dt({props:{width:e[4],data:e[3]}}),{c(){t=u("div"),Ve(l.$$.fragment),h=V(),m=u("div"),p=u("div"),i=u("div"),v=u("div"),k=u("div"),P=u("label"),R=K("Language"),X=V(),E=u("select");for(let a=0;a<L.length;a+=1)L[a].c();Y=V(),O=u("div"),T=u("div"),y=u("label"),de=K("Macro category"),le=V(),b=u("select");for(let a=0;a<I.length;a+=1)I[a].c();se=V(),A=u("div"),M=u("label"),oe=K("View"),ne=V(),D=u("div"),g=u("input"),n=V(),z=u("label"),re=K("Stack"),ie=V(),w=u("input"),ce=V(),G=u("label"),we=K("Split"),Ee=V(),U=u("div"),$=u("div"),W=u("div"),Ve(q.$$.fragment),ke=V(),x=u("div"),F=u("div"),ee=u("p"),ue=u("small"),Le=K("Total tweets"),Ie=V(),Ve(H.$$.fragment),this.h()},l(a){t=f(a,"DIV",{class:!0});var _=d(t);Se(l.$$.fragment,_),_.forEach(r),h=S(a),m=f(a,"DIV",{class:!0});var j=d(m);p=f(j,"DIV",{class:!0});var C=d(p);i=f(C,"DIV",{class:!0});var N=d(i);v=f(N,"DIV",{class:!0});var c=d(v);k=f(c,"DIV",{class:!0});var B=d(k);P=f(B,"LABEL",{for:!0,class:!0});var Ae=d(P);R=Q(Ae,"Language"),Ae.forEach(r),X=S(B),E=f(B,"SELECT",{class:!0,id:!0,"aria-label":!0});var Ne=d(E);for(let Z=0;Z<L.length;Z+=1)L[Z].l(Ne);Ne.forEach(r),B.forEach(r),c.forEach(r),Y=S(N),O=f(N,"DIV",{class:!0});var Be=d(O);T=f(Be,"DIV",{class:!0});var _e=d(T);y=f(_e,"LABEL",{for:!0,class:!0});var Me=d(y);de=Q(Me,"Macro category"),Me.forEach(r),le=S(_e),b=f(_e,"SELECT",{class:!0,id:!0,"aria-label":!0});var Ge=d(b);for(let Z=0;Z<I.length;Z+=1)I[Z].l(Ge);Ge.forEach(r),_e.forEach(r),Be.forEach(r),se=S(N),A=f(N,"DIV",{class:!0});var me=d(A);M=f(me,"LABEL",{for:!0,class:!0});var Ue=d(M);oe=Q(Ue,"View"),Ue.forEach(r),ne=S(me),D=f(me,"DIV",{class:!0,role:!0});var J=d(D);g=f(J,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),n=S(J),z=f(J,"LABEL",{class:!0,for:!0});var We=d(z);re=Q(We,"Stack"),We.forEach(r),ie=S(J),w=f(J,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),ce=S(J),G=f(J,"LABEL",{class:!0,for:!0});var qe=d(G);we=Q(qe,"Split"),qe.forEach(r),J.forEach(r),me.forEach(r),N.forEach(r),Ee=S(C),U=f(C,"DIV",{class:!0});var Fe=d(U);$=f(Fe,"DIV",{class:!0});var He=d($);W=f(He,"DIV",{class:!0});var Je=d(W);Se(q.$$.fragment,Je),Je.forEach(r),He.forEach(r),Fe.forEach(r),ke=S(C),x=f(C,"DIV",{class:!0});var Ke=d(x);F=f(Ke,"DIV",{class:!0});var ve=d(F);ee=f(ve,"P",{class:!0});var Qe=d(ee);ue=f(Qe,"SMALL",{});var Re=d(ue);Le=Q(Re,"Total tweets"),Re.forEach(r),Qe.forEach(r),Ie=S(ve),Se(H.$$.fragment,ve),ve.forEach(r),Ke.forEach(r),C.forEach(r),j.forEach(r),this.h()},h(){o(t,"class","container"),o(P,"for","language"),o(P,"class","form-label"),o(E,"class","form-select"),o(E,"id","language"),o(E,"aria-label","Language"),e[1]===void 0&&ge(()=>e[16].call(E)),o(k,"class","mb-3"),o(v,"class","col-md-3"),o(y,"for","macroCategory"),o(y,"class","form-label"),o(b,"class","form-select"),o(b,"id","macroCategory"),o(b,"aria-label","macroCategory"),e[2]===void 0&&ge(()=>e[17].call(b)),o(T,"class","mb-3"),o(O,"class","col-md-4"),o(M,"for","options"),o(M,"class","form-label w-100"),o(g,"type","radio"),o(g,"class","btn-check"),o(g,"name","options"),o(g,"id","option1"),o(g,"autocomplete","off"),g.__value="stackOffsetNone",g.value=g.__value,e[19][0].push(g),o(z,"class","btn btn-secondary"),o(z,"for","option1"),o(w,"type","radio"),o(w,"class","btn-check"),o(w,"name","options"),o(w,"id","option2"),o(w,"autocomplete","off"),w.__value="stackOffsetSplit",w.value=w.__value,e[19][0].push(w),o(G,"class","btn btn-secondary"),o(G,"for","option2"),o(D,"class","btn-group"),o(D,"role","group"),o(A,"class","col-md-auto ms-auto"),o(i,"class","row border-bottom py-2"),o(W,"class","w-100 h-100"),ge(()=>e[21].call(W)),o($,"class","col-12"),o(U,"class","row flex-grow-1 flex-shrink-1 overflow-hidden"),ge(()=>e[22].call(U)),o(ee,"class","text-muted mb-0"),o(F,"class","col-12"),o(x,"class","row py-2 border-top"),o(p,"class","container h-100 d-flex flex-column"),o(m,"class","bg-light w-100 containerViz svelte-11zrb3w")},m(a,_){fe(a,t,_),ye(l,t,null),fe(a,h,_),fe(a,m,_),s(m,p),s(p,i),s(i,v),s(v,k),s(k,P),s(P,R),s(k,X),s(k,E);for(let j=0;j<L.length;j+=1)L[j].m(E,null);pe(E,e[1]),s(i,Y),s(i,O),s(O,T),s(T,y),s(y,de),s(T,le),s(T,b);for(let j=0;j<I.length;j+=1)I[j].m(b,null);pe(b,e[2]),s(i,se),s(i,A),s(A,M),s(M,oe),s(A,ne),s(A,D),s(D,g),g.checked=g.__value===e[6],s(D,n),s(D,z),s(z,re),s(D,ie),s(D,w),w.checked=w.__value===e[6],s(D,ce),s(D,G),s(G,we),s(p,Ee),s(p,U),s(U,$),s($,W),ye(q,W,null),Te=et(W,e[21].bind(W)),Pe=et(U,e[22].bind(U)),s(p,ke),s(p,x),s(x,F),s(F,ee),s(ee,ue),s(ue,Le),s(F,Ie),ye(H,F,null),he=!0,De||(ze=[be(E,"change",e[16]),be(b,"change",e[17]),be(g,"change",e[18]),be(w,"change",e[20])],De=!0)},p(a,[_]){const j={};if(_&1&&(j.title=a[0].title),l.$set(j),_&512){te=a[9];let c;for(c=0;c<te.length;c+=1){const B=nt(a,te,c);L[c]?L[c].p(B,_):(L[c]=rt(B),L[c].c(),L[c].m(E,null))}for(;c<L.length;c+=1)L[c].d(1);L.length=te.length}if(_&514&&pe(E,a[1]),_&1024){ae=a[10];let c;for(c=0;c<ae.length;c+=1){const B=ot(a,ae,c);I[c]?I[c].p(B,_):(I[c]=it(B),I[c].c(),I[c].m(b,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=ae.length}_&1028&&pe(b,a[2]),_&64&&(g.checked=g.__value===a[6]),_&64&&(w.checked=w.__value===a[6]);const C={};_&16&&(C.width=a[4]),_&32&&(C.height=a[5]),_&256&&(C.data=a[8]),_&64&&(C.view=a[6]),_&128&&(C.dataEvents=a[7]),q.$set(C);const N={};_&16&&(N.width=a[4]),_&8&&(N.data=a[3]),H.$set(N)},i(a){he||(je(l.$$.fragment,a),je(q.$$.fragment,a),je(H.$$.fragment,a),he=!0)},o(a){Ce(l.$$.fragment,a),Ce(q.$$.fragment,a),Ce(H.$$.fragment,a),he=!1},d(a){a&&r(t),Oe(l),a&&r(h),a&&r(m),tt(L,a),tt(I,a),e[19][0].splice(e[19][0].indexOf(g),1),e[19][0].splice(e[19][0].indexOf(w),1),Oe(q),Te(),Pe(),Oe(H),De=!1,gt(ze)}}}async function At({page:e,fetch:t}){const l=Lt+e.path,h=await t(`${l}/data.json`),p=await(await t(`${l}.json`)).json(),i=await h.json();return{props:{info:p.data,tweets:i.tweets,events:i.events,emo:i.emo}}}function yt(e,t,l){let h,m,p,i,{info:v}=t,{emo:k}=t,{events:P}=t,{tweets:R}=t,X,E,Y=Object.keys(k).sort(),O=Y[0],T=["all",...new Set(Object.values(k).flat().map(n=>n.macro_dimension))],y=T[0];[...new Set(k[O].map(n=>n.dimension))];const le=pt(Object.values(k).flat(),n=>n.macro_dimension,n=>n.dimension).map((n,z)=>{const re=bt[z],ie=1/n[1].length;return n[1].map((ce,G)=>({category:ce[0],macro_category:n[0],color:wt(re).brighter(G*ie)}))}).flat();let b="stackOffsetNone";const se=[[]];function A(){O=st(this),l(1,O),l(9,Y)}function M(){y=st(this),l(2,y),l(10,T)}function oe(){b=this.__value,l(6,b)}function ne(){b=this.__value,l(6,b)}function D(){X=this.clientWidth,l(4,X)}function g(){E=this.clientHeight,l(5,E)}return e.$$set=n=>{"info"in n&&l(0,v=n.info),"emo"in n&&l(12,k=n.emo),"events"in n&&l(13,P=n.events),"tweets"in n&&l(14,R=n.tweets)},e.$$.update=()=>{e.$$.dirty&4102&&l(8,h=k[O].map(n=>$e(Ze({},n),{date:new Date(n.date)})).filter(n=>y!=="all"?y===n.macro_dimension:!0).sort((n,z)=>Et(n.macro_dimension,z.macro_dimension))),e.$$.dirty&16384&&l(3,m=R.map(n=>({y:n.tweets_count,x:new Date(n.date)}))),e.$$.dirty&8192&&l(7,p=P.map(n=>({date:new Date(n.date),event:n.event}))),e.$$.dirty&8&&at("brushExtentDefault",lt(m,n=>n.x)),e.$$.dirty&8&&l(15,i=kt(lt(m,n=>n.x))),e.$$.dirty&32768&&at("brushExtent",i)},[v,O,y,m,X,E,b,p,h,Y,T,le,k,P,R,i,A,M,oe,se,ne,D,g]}class Nt extends _t{constructor(t){super();mt(this,t,yt,St,vt,{info:0,emo:12,events:13,tweets:14})}}export{Nt as default,At as load};

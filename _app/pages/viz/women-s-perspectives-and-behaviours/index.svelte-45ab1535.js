var a=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(e,t,s)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;import{S as c,i as n,s as i,e as f,t as h,k as d,c as m,a as u,g as v,n as p,d as g,f as b,F as $,G as w,j as E,m as _,b as y,a0 as I,o as O,a1 as D,a3 as j,$ as k,x as L,u as V,v as x,M as S,a4 as P,ac as T,ad as C,ae as A,af as N,y as B,U as M,C as U,a9 as z}from"../../../chunks/vendor-7fcd3968.js";import{b as F}from"../../../chunks/paths-45dac81d.js";import{S as G}from"../../../chunks/Streamgraph-828c0942.js";import{L as H}from"../../../chunks/LinechartStream-19205d88.js";import{P as W}from"../../../chunks/PageIntro-8f96cfc1.js";function q(a,e,t){const s=a.slice();return s[25]=e[t],s}function J(a,e,t){const s=a.slice();return s[28]=e[t],s}function K(a){let e,t,s,o,r=a[28]+"";return{c(){e=f("option"),t=h(r),s=d(),this.h()},l(a){e=m(a,"OPTION",{});var o=u(e);t=v(o,r),s=p(o),o.forEach(g),this.h()},h(){e.__value=o=a[28],e.value=e.__value},m(a,o){b(a,e,o),$(e,t),$(e,s)},p:w,d(a){a&&g(e)}}}function Q(a){let e,t,s,o,r=a[25]+"";return{c(){e=f("option"),t=h(r),s=d(),this.h()},l(a){e=m(a,"OPTION",{});var o=u(e);t=v(o,r),s=p(o),o.forEach(g),this.h()},h(){e.__value=o=a[25],e.value=e.__value},m(a,o){b(a,e,o),$(e,t),$(e,s)},p:w,d(a){a&&g(e)}}}function R(a){let e,t,s,o,r,l,c,n,i,w,T,C,A,N,B,M,U,z,F,R,X,Y,Z,aa,ea,ta,sa,oa,ra,la,ca,na,ia,fa,ha,da,ma,ua,va,pa,ga,ba,$a,wa,Ea,_a,ya,Ia,Oa,Da,ja,ka;t=new W({props:{title:a[0].title}});let La=a[9],Va=[];for(let f=0;f<La.length;f+=1)Va[f]=K(J(a,La,f));let xa=a[10],Sa=[];for(let f=0;f<xa.length;f+=1)Sa[f]=Q(q(a,xa,f));return va=new G({props:{width:a[4],height:a[5],data:a[8],groupColors:a[11],view:a[6],dataEvents:a[7]}}),Oa=new H({props:{width:a[4],data:a[3]}}),{c(){e=f("div"),E(t.$$.fragment),s=d(),o=f("div"),r=f("div"),l=f("div"),c=f("div"),n=f("div"),i=f("label"),w=h("Language"),T=d(),C=f("select");for(let a=0;a<Va.length;a+=1)Va[a].c();A=d(),N=f("div"),B=f("div"),M=f("label"),U=h("Macro category"),z=d(),F=f("select");for(let a=0;a<Sa.length;a+=1)Sa[a].c();R=d(),X=f("div"),Y=f("label"),Z=h("View"),aa=d(),ea=f("div"),ta=f("input"),sa=d(),oa=f("label"),ra=h("Stack"),la=d(),ca=f("input"),na=d(),ia=f("label"),fa=h("Split"),ha=d(),da=f("div"),ma=f("div"),ua=f("div"),E(va.$$.fragment),ba=d(),$a=f("div"),wa=f("div"),Ea=f("p"),_a=f("small"),ya=h("Total tweets"),Ia=d(),E(Oa.$$.fragment),this.h()},l(a){e=m(a,"DIV",{class:!0});var f=u(e);_(t.$$.fragment,f),f.forEach(g),s=p(a),o=m(a,"DIV",{class:!0});var h=u(o);r=m(h,"DIV",{class:!0});var d=u(r);l=m(d,"DIV",{class:!0});var b=u(l);c=m(b,"DIV",{class:!0});var $=u(c);n=m($,"DIV",{class:!0});var E=u(n);i=m(E,"LABEL",{for:!0,class:!0});var y=u(i);w=v(y,"Language"),y.forEach(g),T=p(E),C=m(E,"SELECT",{class:!0,id:!0,"aria-label":!0});var I=u(C);for(let e=0;e<Va.length;e+=1)Va[e].l(I);I.forEach(g),E.forEach(g),$.forEach(g),A=p(b),N=m(b,"DIV",{class:!0});var O=u(N);B=m(O,"DIV",{class:!0});var D=u(B);M=m(D,"LABEL",{for:!0,class:!0});var j=u(M);U=v(j,"Macro category"),j.forEach(g),z=p(D),F=m(D,"SELECT",{class:!0,id:!0,"aria-label":!0});var k=u(F);for(let e=0;e<Sa.length;e+=1)Sa[e].l(k);k.forEach(g),D.forEach(g),O.forEach(g),R=p(b),X=m(b,"DIV",{class:!0});var L=u(X);Y=m(L,"LABEL",{for:!0,class:!0});var V=u(Y);Z=v(V,"View"),V.forEach(g),aa=p(L),ea=m(L,"DIV",{class:!0,role:!0});var x=u(ea);ta=m(x,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),sa=p(x),oa=m(x,"LABEL",{class:!0,for:!0});var S=u(oa);ra=v(S,"Stack"),S.forEach(g),la=p(x),ca=m(x,"INPUT",{type:!0,class:!0,name:!0,id:!0,autocomplete:!0}),na=p(x),ia=m(x,"LABEL",{class:!0,for:!0});var P=u(ia);fa=v(P,"Split"),P.forEach(g),x.forEach(g),L.forEach(g),b.forEach(g),ha=p(d),da=m(d,"DIV",{class:!0});var G=u(da);ma=m(G,"DIV",{class:!0});var H=u(ma);ua=m(H,"DIV",{class:!0});var W=u(ua);_(va.$$.fragment,W),W.forEach(g),H.forEach(g),G.forEach(g),ba=p(d),$a=m(d,"DIV",{class:!0});var q=u($a);wa=m(q,"DIV",{class:!0});var J=u(wa);Ea=m(J,"P",{class:!0});var K=u(Ea);_a=m(K,"SMALL",{});var Q=u(_a);ya=v(Q,"Total tweets"),Q.forEach(g),K.forEach(g),Ia=p(J),_(Oa.$$.fragment,J),J.forEach(g),q.forEach(g),d.forEach(g),h.forEach(g),this.h()},h(){y(e,"class","container"),y(i,"for","language"),y(i,"class","form-label"),y(C,"class","form-select"),y(C,"id","language"),y(C,"aria-label","Language"),void 0===a[1]&&I((()=>a[16].call(C))),y(n,"class","mb-3"),y(c,"class","col-md-3"),y(M,"for","macroCategory"),y(M,"class","form-label"),y(F,"class","form-select"),y(F,"id","macroCategory"),y(F,"aria-label","macroCategory"),void 0===a[2]&&I((()=>a[17].call(F))),y(B,"class","mb-3"),y(N,"class","col-md-4"),y(Y,"for","options"),y(Y,"class","form-label w-100"),y(ta,"type","radio"),y(ta,"class","btn-check"),y(ta,"name","options"),y(ta,"id","option1"),y(ta,"autocomplete","off"),ta.__value="stackOffsetNone",ta.value=ta.__value,a[19][0].push(ta),y(oa,"class","btn btn-secondary"),y(oa,"for","option1"),y(ca,"type","radio"),y(ca,"class","btn-check"),y(ca,"name","options"),y(ca,"id","option2"),y(ca,"autocomplete","off"),ca.__value="stackOffsetSplit",ca.value=ca.__value,a[19][0].push(ca),y(ia,"class","btn btn-secondary"),y(ia,"for","option2"),y(ea,"class","btn-group"),y(ea,"role","group"),y(X,"class","col-md-auto ms-auto"),y(l,"class","row border-bottom py-2"),y(ua,"class","w-100 h-100"),I((()=>a[21].call(ua))),y(ma,"class","col-12"),y(da,"class","row flex-grow-1 flex-shrink-1 overflow-hidden"),I((()=>a[22].call(da))),y(Ea,"class","text-muted mb-0"),y(wa,"class","col-12"),y($a,"class","row py-2 border-top"),y(r,"class","container h-100 d-flex flex-column"),y(o,"class","bg-light w-100 containerViz svelte-11zrb3w")},m(f,h){b(f,e,h),O(t,e,null),b(f,s,h),b(f,o,h),$(o,r),$(r,l),$(l,c),$(c,n),$(n,i),$(i,w),$(n,T),$(n,C);for(let a=0;a<Va.length;a+=1)Va[a].m(C,null);D(C,a[1]),$(l,A),$(l,N),$(N,B),$(B,M),$(M,U),$(B,z),$(B,F);for(let a=0;a<Sa.length;a+=1)Sa[a].m(F,null);D(F,a[2]),$(l,R),$(l,X),$(X,Y),$(Y,Z),$(X,aa),$(X,ea),$(ea,ta),ta.checked=ta.__value===a[6],$(ea,sa),$(ea,oa),$(oa,ra),$(ea,la),$(ea,ca),ca.checked=ca.__value===a[6],$(ea,na),$(ea,ia),$(ia,fa),$(r,ha),$(r,da),$(da,ma),$(ma,ua),O(va,ua,null),pa=j(ua,a[21].bind(ua)),ga=j(da,a[22].bind(da)),$(r,ba),$(r,$a),$($a,wa),$(wa,Ea),$(Ea,_a),$(_a,ya),$(wa,Ia),O(Oa,wa,null),Da=!0,ja||(ka=[k(C,"change",a[16]),k(F,"change",a[17]),k(ta,"change",a[18]),k(ca,"change",a[20])],ja=!0)},p(a,[e]){const s={};if(1&e&&(s.title=a[0].title),t.$set(s),512&e){let t;for(La=a[9],t=0;t<La.length;t+=1){const s=J(a,La,t);Va[t]?Va[t].p(s,e):(Va[t]=K(s),Va[t].c(),Va[t].m(C,null))}for(;t<Va.length;t+=1)Va[t].d(1);Va.length=La.length}if(514&e&&D(C,a[1]),1024&e){let t;for(xa=a[10],t=0;t<xa.length;t+=1){const s=q(a,xa,t);Sa[t]?Sa[t].p(s,e):(Sa[t]=Q(s),Sa[t].c(),Sa[t].m(F,null))}for(;t<Sa.length;t+=1)Sa[t].d(1);Sa.length=xa.length}1028&e&&D(F,a[2]),64&e&&(ta.checked=ta.__value===a[6]),64&e&&(ca.checked=ca.__value===a[6]);const o={};16&e&&(o.width=a[4]),32&e&&(o.height=a[5]),256&e&&(o.data=a[8]),64&e&&(o.view=a[6]),128&e&&(o.dataEvents=a[7]),va.$set(o);const r={};16&e&&(r.width=a[4]),8&e&&(r.data=a[3]),Oa.$set(r)},i(a){Da||(L(t.$$.fragment,a),L(va.$$.fragment,a),L(Oa.$$.fragment,a),Da=!0)},o(a){V(t.$$.fragment,a),V(va.$$.fragment,a),V(Oa.$$.fragment,a),Da=!1},d(r){r&&g(e),x(t),r&&g(s),r&&g(o),S(Va,r),S(Sa,r),a[19][0].splice(a[19][0].indexOf(ta),1),a[19][0].splice(a[19][0].indexOf(ca),1),x(va),pa(),ga(),x(Oa),ja=!1,P(ka)}}}async function X({page:a,fetch:e}){const t=F+a.path,s=await e(`${t}/data.json`),o=await e(`${t}.json`),r=await o.json(),l=await s.json();return{props:{info:r.data,tweets:l.tweets,events:l.events,emo:l.emo}}}function Y(a,c,n){let i,f,h,d,m,u,{info:v}=c,{emo:p}=c,{events:g}=c,{tweets:b}=c,$=Object.keys(p).sort(),w=$[0],E=["all",...new Set(Object.values(p).flat().map((a=>a.macro_dimension)))],_=E[0];new Set(p[w].map((a=>a.dimension)));const y=T(Object.values(p).flat(),(a=>a.macro_dimension),(a=>a.dimension)).map(((a,e)=>{const t=C[e],s=1/a[1].length;return a[1].map(((e,o)=>({category:e[0],macro_category:a[0],color:A(t).brighter(o*s)})))})).flat();let I="stackOffsetNone";return a.$$set=a=>{"info"in a&&n(0,v=a.info),"emo"in a&&n(12,p=a.emo),"events"in a&&n(13,g=a.events),"tweets"in a&&n(14,b=a.tweets)},a.$$.update=()=>{4102&a.$$.dirty&&n(8,i=p[w].map((a=>{return c=((a,e)=>{for(var t in e||(e={}))o.call(e,t)&&l(a,t,e[t]);if(s)for(var t of s(e))r.call(e,t)&&l(a,t,e[t]);return a})({},a),n={date:new Date(a.date)},e(c,t(n));var c,n})).filter((a=>"all"===_||_===a.macro_dimension)).sort(((a,e)=>N(a.macro_dimension,e.macro_dimension)))),16384&a.$$.dirty&&n(3,f=b.map((a=>({y:a.tweets_count,x:new Date(a.date)})))),8192&a.$$.dirty&&n(7,h=g.map((a=>({date:new Date(a.date),event:a.event})))),8&a.$$.dirty&&B("brushExtentDefault",M(f,(a=>a.x))),8&a.$$.dirty&&n(15,d=U(M(f,(a=>a.x)))),32768&a.$$.dirty&&B("brushExtent",d)},[v,w,_,f,m,u,I,h,i,$,E,y,p,g,b,d,function(){w=z(this),n(1,w),n(9,$)},function(){_=z(this),n(2,_),n(10,E)},function(){I=this.__value,n(6,I)},[[]],function(){I=this.__value,n(6,I)},function(){m=this.clientWidth,n(4,m)},function(){u=this.clientHeight,n(5,u)}]}class Z extends c{constructor(a){super(),n(this,a,Y,R,i,{info:0,emo:12,events:13,tweets:14})}}export{Z as default,X as load};
